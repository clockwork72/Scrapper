@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap');
@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Default to dark color-scheme for native UI bits */
:root {
    color-scheme: dark;
}

/* Default DARK theme */
:root[data-theme="dark"] {

    --color-primary: #00E6FF; /* neon cyan */
    --color-success: #39FF14; /* neon green */
    --color-warn: #FFD166;    /* warm neon amber */
    --color-danger: #FF2D95;  /* neon pink */

    --color-canvas: #05060A;  /* near-black canvas */
    --color-surface: #071026; /* slightly lifted surface */
    --color-text: #E6FBFF;    /* cool off-white text */

    --border-soft: rgba(0, 230, 255, 0.10);
    --muted-text: rgba(230, 251, 255, 0.55);
    --chip-bg: rgba(0, 230, 255, 0.03);
    --chip-ring: rgba(0, 230, 255, 0.10);
    --focus-ring: #00E6FF;
    --kbd-bg: #02121a;
    --kbd-text: #00E6FF;
    --shadow: 0 8px 32px rgba(0, 0, 0, 0.6), 0 0 24px rgba(0, 230, 255, 0.06);
}

/* VS Code Red (Dark+ red accent) */
:root[data-theme="vscode-red"] {
    --color-primary: #F44747;
    /* VS Code error red */
    --color-success: #2EA043;
    --color-warn: #FFB454;
    --color-danger: #F44747;

    --color-canvas: #1E1E1E;
    /* editor background */
    --color-surface: #252526;
    /* panel background */
    --color-text: #E6E6E6;

    --border-soft: #3C3C3C;
    --muted-text: #BFBFBF;
    --chip-bg: #2A2A2A;
    --chip-ring: #3C3C3C;
    --focus-ring: #F44747;
    --kbd-bg: #3C3C3C;
    --kbd-text: #ffffff;
    --shadow: 0 8px 32px rgba(0, 0, 0, .45);
}

/* Academia (research UI) */
:root[data-theme="academia"] {
    color-scheme: light;
    --color-primary: #2F6F6D;
    --color-sand: #E9E1D6;
    --color-success: #2E7D32;
    --color-warn: #B36A2E;
    --color-danger: #B23A48;

    --color-canvas: #F6F2ED;
    --color-surface: #FFFFFF;
    --color-text: #1F2428;

    --border-soft: #D8D2C8;
    --muted-text: #6A665F;
    --chip-bg: rgba(47, 111, 109, .08);
    --chip-ring: rgba(47, 111, 109, .2);
    --focus-ring: #2F6F6D;
    --kbd-bg: rgba(47, 111, 109, .12);
    --kbd-text: #1F2428;
    --shadow: 0 8px 32px rgba(34, 32, 28, .18);
}

/* Academia: keep active toggle buttons visible on light canvas */
:root[data-theme="academia"] .focusable.border.text-white {
    background: var(--color-danger);
    border-color: var(--color-danger);
    color: #ffffff;
}

* {
    box-sizing: border-box;
}

html, body {
    height: 100%;
}

/* Global surface/canvas */
body {
    margin: 0;
    background: var(--color-canvas);
    color: var(--color-text);
    font-family: "Space Grotesk", "Segoe UI", sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
}

#root {
    min-height: 100vh;
    position: relative;
    z-index: 1;
}

a {
    color: inherit;
    text-decoration: none;
}

code, .mono {
    font-family: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Helper utility classes (used by components) */
.kbd {
    background: var(--kbd-bg);
    color: var(--kbd-text);
    padding: .15rem .4rem;
    border-radius: .35rem;
    border: 1px solid var(--border-soft);
}

.theme-chip {
    background: var(--chip-bg);
    border: 1px solid var(--chip-ring);
}

.focusable:focus {
    outline: none;
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--focus-ring) 75%, transparent);
}

.card {
    background: var(--color-surface);
    box-shadow: var(--shadow);
    border: 1px solid var(--border-soft);
}

/* --- Vertical toolbar helpers --- */
.rail {
    background: var(--color-surface);
    border-right: 1px solid var(--border-soft);
    box-shadow: var(--shadow);
}

.rail-btn {
    width: 44px;
    height: 44px;
    display: grid;
    place-items: center;
    border-radius: 0.75rem;
    background: rgba(255, 255, 255, .06);
    border: 1px solid var(--chip-ring);
}

.rail-btn:hover {
    background: rgba(255, 255, 255, .10);
}

.rail-btn.active {
    background: color-mix(in srgb, var(--color-danger) 12%, transparent);
    border-color: var(--color-danger);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-danger) 70%, transparent);
}

@keyframes float-in {
    from {
        opacity: 0;
        transform: translateY(16px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.reveal {
    animation: float-in 600ms ease-out both;
}
